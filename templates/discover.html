{% extends 'base.html' %}

{% block title %}Discover Movies{% endblock %}

{% block content %}
    <header class="header">
        <div class="container">
            <h1>üåü Discover Popular Movies</h1>
            <p>Explore the latest and most popular movies from TMDB</p>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            {% if movies %}
                <h2 class="section-title">Popular Movies Right Now</h2>
                
                <div class="movie-grid">
                    {% for movie in movies %}
                    <div class="movie-card">
                        <img src="{{ movie.poster_url }}" 
                             alt="{{ movie.title }}" 
                             class="movie-poster"
                             loading="lazy">
                        
                        <h3>{{ movie.title }}</h3>
                        <span class="movie-rating">‚≠ê {{ movie.vote_average }}/10</span>
                        <p class="movie-overview">{{ movie.overview[:150] }}...{% if movie.overview|length > 150%}{% endif %}</p>
                        <p class="movie-meta">üìÖ {{ movie.release_date[:4] if movie.release_date else 'N/A' }}</p>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="alert alert-warning">
                    ‚ö†Ô∏è Unable to load movies. Please check your TMDB API configuration.
                </div>
            {% endif %}
        </div>
    </main>
{% endblock %}